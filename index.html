<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">        
        <link rel="stylesheet" href="barStyle.css">
        <link rel="stylesheet" href="bubbleStyle.css">     
        <link rel="stylesheet" href="generalStyles.css">   
    </head>
    <body>                 
        <script type="text/javascript" src="https://d3js.org/d3.v7.min.js"></script>
    
        <h2 style="text-align:center;">OPEC Member Nations: Prisoner's Dilemma</h2>
        
        <div class="settings">
            <label>Current Price of Oil </label>
            <span id="currentPrice"></span>

            <label>Proposed Production Cut (%)</label>
            <input id="cutPercentage" class="cut" type="number" value="12" oninput="recompute()"/>

            <label>Expected Price Increase with Full Cooperation (%)</label>
            <input id="priceIncrease" type="number" value="30" oninput="recompute()"/>

            <label>New Price Based on OPEC actions</label>
            <span id="computedPrice"></span>
        </div>
        <div class="container">            
            <div class="button-wrapper">
                <button id="equilibrium"> Nash Equilibrium </button> 
                <button id="reset" style="margin-left: 10px;"> Reset </button>
            </div>            
        </div>
        
        <div class="container" style="margin-top: 10px;">
            <div id="bubblechart" >
                <div class="labels">                    
                    <nav>
                        <svg id="svg_bubble" style="z-index:-100; margin-left: 10px; margin-top: 10px" width="100%" height="100" >                        
                        </svg>
                        <ul>
                            <li><a href="" title="Cooperate">Cooperate</a></li>
                            <li style="margin-left: 500px;"><a href="" title="Defect">Defect</a></li>                            
                        </ul>
                    </nav>                                                                                                   
                    <defs>
                        <pattern id="algeria" height="100%" width="100%" patternContentUnits="objectBoundingBox">
                            <image height="1" width="1" preserveAspectRatio="none" 
                            xmlns:xlink=http://www.w3.org/1999/xlink" xlink:href="Flags/Algeria.png"></image>
                        </pattern>
                    </defs>                    
                </div>      
            </div>
            <div id="barchart" >
                <div class="labels">                    
                    <nav>
                        <svg id="svg_bar" style="z-index:-100; margin-left: 10px;" width="100%" height="100" >                        
                        </svg>                        
                    </nav>                                                                                                                                         
                </div>      
            </div>            
        </div>   
        
        <script type="text/javascript">
            var latestPriceDate = ""
            var price = 100            
            var cutPercentage = 12
            var increasePercentage = 30
            var computedPrice = price
            var cooperateList = []                  
            var countryData = [{"Country": "Algeria", "Reserves":"12.2", "Production":"1.3"},
                        {"Country": "Angola", "Reserves":"8.4", "Production":"1.7"},
                        {"Country": "Republic of the Congo", "Reserves":"1.6", "Production":"0.26"},
                        {"Country": "Equatorial Guinea", "Reserves":"1", "Production":"0.244"},
                        {"Country": "Gabon", "Reserves":"157", "Production":"0.21"},
                        {"Country": "Iran", "Reserves":"157", "Production":"3.99"},
                        {"Country": "Iraq", "Reserves":"143", "Production":"4.45"},
                        {"Country": "Kuwait", "Reserves":"101", "Production":"2.9"},
                        {"Country": "Libya", "Reserves":"48", "Production":"0.38"},
                        {"Country": "Nigeria", "Reserves":"37", "Production":"2.00"},                                                
                        {"Country": "Saudi Arabia", "Reserves":"266", "Production":"10.46"},
                        {"Country": "United Arab Emirates", "Reserves":"97", "Production":"3.1"},
                        {"Country": "Venezuela", "Reserves":"299", "Production":"2.27"}]
            var barChartCountryData = []            
        </script>                         
        <script type="text/javascript" src="bar.js"></script>    
        <script type="text/javascript" src="bubbles.js"></script>
        <script type="text/javascript" src="chartBuilder.js"></script>   
    </body>
</html>

